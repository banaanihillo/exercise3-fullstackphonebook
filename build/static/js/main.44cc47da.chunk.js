(this.webpackJsonpexercise1=this.webpackJsonpexercise1||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),o=t.n(r),u=t(13),c=t.n(u),l=function(e){var n=e.persons,t=e.searchTerms,a=e.removePerson;return o.a.createElement("ul",null,n.filter((function(e){return!0===e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return o.a.createElement("li",{key:e.id},e.name,": ",e.number,o.a.createElement("button",{onClick:function(){return a(e.id)}}," Remove entry "))})))},i=function(e){var n=e.addPerson,t=e.newName,a=e.newNumber,r=e.handleName,u=e.handleNumber;return o.a.createElement("form",{onSubmit:n},o.a.createElement("p",null,"Name: ",o.a.createElement("input",{value:t,onChange:r})),o.a.createElement("p",null,"Number: ",o.a.createElement("input",{value:a,onChange:u})),o.a.createElement("button",{type:"submit"}," Submit "))},s=function(e){var n=e.searchTerms,t=e.handleSearching;return o.a.createElement("p",null,"Search for a name: ",o.a.createElement("input",{value:n,onChange:t}))},m=t(3),f=t.n(m),d=function(){return f.a.get("/api/persons")},h=function(e){return f.a.post("/api/persons",e)},p=function(e){return f.a.delete("/api/persons/".concat(e))},b=function(e,n){return f.a.put("/api/persons/".concat(n.id),e)};t(36);c.a.render(o.a.createElement((function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],c=Object(r.useState)(""),m=Object(a.a)(c,2),f=m[0],v=m[1],E=Object(r.useState)(""),g=Object(a.a)(E,2),w=g[0],y=g[1],N=Object(r.useState)(""),S=Object(a.a)(N,2),j=S[0],O=S[1],T=Object(r.useState)(""),k=Object(a.a)(T,2),x=k[0],C=k[1];Object(r.useEffect)((function(){d().then((function(e){u(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h1",null," Names and Numbers "),o.a.createElement(s,{searchTerms:j,handleSearching:function(e){console.log(e.target.value),O(e.target.value)}}),o.a.createElement(l,{persons:t,searchTerms:j,removePerson:function(e){window.confirm("Do you really want to remove this entry?")&&(p(e).then((function(){u(t.filter((function(n){return n.id!==e})))})),C("Successfully removed ".concat(e," from the phonebook.")),setTimeout((function(){C(null)}),6e3))}}),o.a.createElement((function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"message"},n)}),{message:x}),o.a.createElement("h2",null," Add a new entry here "),o.a.createElement(i,{addPerson:function(e){if(e.preventDefault(),!f||!w)return C("Empty values are not allowed here."),void setTimeout((function(){C(null)}),6e3);if(t.some((function(e){return e.number===w})))return C("".concat(w," already exists. Duplicate numbers are not allowed.")),void setTimeout((function(){C(null)}),6e3);var n={name:f,number:w,id:Math.floor(1e4*Math.random())};if(!!t.some((function(e){return e.name===f}))){if(window.confirm("".concat(f," already exists.\n                Do you want to replace their number with ").concat(w,"?"))){var a=t.find((function(e){return e.name===f}));b(n,a).then((function(e){u(t.map((function(n){return n.id!==a.id?n:e.data})))})).catch((function(e){console.log(e),C("Looks like ".concat(f," does not exist.\n                            It may have been removed from the database.\n                            Refresh the page to make sure.")),setTimeout((function(){C(null)}),1e4)})),C("Successfully updated ".concat(f," with ").concat(w,".")),setTimeout((function(){C(null)}),6e3),v(""),y("")}}else h(n).then((function(e){u(t.concat(e.data))})),C("Successfully added a new entry: ".concat(f,", ").concat(w,".")),setTimeout((function(){C(null)}),6e3),v(""),y("")},newName:f,newNumber:w,handleName:function(e){console.log(e.target.value),v(e.target.value)},handleNumber:function(e){console.log(e.target.value),y(e.target.value)}}))}),null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.44cc47da.chunk.js.map